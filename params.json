{"name":"Orca","tagline":"Orca: Towards Mastering Congestion Control In the Internet","body":"# Orca v1.0\r\n\r\nThis release presents the source code and materials used for the experiments in our SIGCOMM'20 paper: \"Classic Meets Modern: A Pragmatic Learning-Based Congestion Control for the Internet\".\r\n\r\nInstallation Guide\r\n==================\r\n    \r\n### Installing Required Tools\r\n\r\nInstall Mahimahi (http://mahimahi.mit.edu/#getting)\r\n\r\n\t```sh  \r\n\tsudo apt-get install build-essential git debhelper autotools-dev dh-autoreconf iptables protobuf-compiler libprotobuf-dev pkg-config libssl-dev dnsmasq-base ssl-cert libxcb-present-dev libcairo2-dev libpango1.0-dev iproute2 apache2-dev apache2-bin iptables dnsmasq-base gnuplot iproute2 apache2-api-20120211 libwww-perl\r\n\tgit clone https://github.com/ravinet/mahimahi \r\n\tcd mahimahi\r\n\t./autogen.sh && ./configure && make\r\n\tsudo make install\r\n\tsudo sysctl -w net.ipv4.ip_forward=1\r\n\t```\r\n\r\n### Orca's DRL Agent \r\n\r\n#### Prerequisites\r\n\r\n- Python >= 3.4\r\n- Tensorflow 1.14.0 \r\n\r\n##### Create a virtul environment\r\n```\r\nmkdir ~/venv\r\nsudo apt update\r\nsudo apt install python3-pip\r\nsudo pip3 install -U virtualenv\r\nvirtualenv ~/venv -p python3\r\n```\r\nIf you change the path of the virtual environment, you need to change the source code accordingly. The source code assumes that virtual environment is set @ ~/venv .\r\n\r\n##### Install packages\r\n```\r\nsource ~/venv/bin/activate\r\npip install --upgrade pip\r\npip install gym\r\npip install tensorflow==1.14\r\npip install sysv_ipc\r\n```\r\n\r\nVerify Installation\r\n```\r\npython -c \"import tensorflow as tf; tf.enable_eager_execution(); print(tf.reduce_sum(tf.random_normal([1000, 1000])))\"\r\n```\r\n\r\nTo deactivate venv\r\n```\r\n(venv) $ deactivate\r\n```\r\n\r\n### Patching Orca Kernel: Install the prepared debian packages.\r\n\r\n```\r\ncd linux\r\nsudo dpkg -i linux-image*\r\nsudo dpkg -i linux-header*\r\nsudo reboot \r\n```\r\n \r\n### Verify the new kernel\r\nUse the following command to make sure that new kernel is installed:\r\n\r\n```\r\nuname -r\r\n```\r\n\r\nThe output should be 4.13.1-0521*. If not you need to bring the 4.13.1-0521* Kernel image on top of the grub list. For instance, you can use grub-customizer application. Install the grub-customizer using following:\r\n\r\n```\r\nsudo add-apt-repository ppa:danielrichter2007/grub-customizer\r\nsudo apt-get update\r\nsudo apt-get install grub-customizer\r\nsudo grub-customizer\r\n```\r\n\r\n### Build Orca's Server-Client Apps\r\n To build the required applications, run the following:\r\n\r\n```\r\n./build.sh\r\n```\r\n\r\n This release includes two versions: A standalone actor version and an actor-learner version.\r\nIn the Standalone actor version, no learner will be initiated. This can be usefull when you simply wanna test the current model over an emulated link. However, the actor-learner version requires a learner being initiated before any actor can be started. The second mode is usefull for learning a new/better model and also, it still can be used for performing a simple test over emulated links.\r\n\r\n### Run a Sample Test with the standalone version using the provided learned model\r\n  \r\n```\r\n./orca-standalone-emulation.sh 44444\r\n``` \r\n\r\n### Run a Sample Test with the acotr-learner version using the provided learned model\r\n\r\n```\r\n./orca.sh 4 44444\r\n``` \r\n\r\n\r\nResults will be generated automatically in rl-module/log/*\r\nYou can check out the summary of results at rl-module/log/sum-*\r\n\r\n### Some notes on the training:\r\n1. To distribute the actors over remote servers, you need to change \"learner_ip\" and \"actor_ip\" fields of the params.json file to the corresponding server IPs.\r\n2. Start the learner first.\r\n3. Set `remote:true` when using remote servers.\r\n4. Set `num_actors: N`, N is the number of actors.\r\n\r\n### Cellular traces:\r\nTo use traces avaialbe @ https://github.com/Soheil-ab/Cellular-Traces-NYC , copy them to the traces folder of the project.\r\n","note":"Don't delete this file! It's used internally to help with page regeneration."}